(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[0],{19:function(n,e,t){n.exports=t.p+"static/media/red-bar.12426016.svg"},29:function(n,e,t){n.exports=t.p+"static/media/discordBackground.fd91131e.jpg"},30:function(n,e,t){n.exports=t.p+"static/media/discord.09f27433.svg"},33:function(n,e,t){n.exports=t(46)},46:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(25),i=t.n(o),c=t(4),l=t(3),u=t(2);function s(){var n=Object(l.a)(["\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n*, button, input {\n  border: 0;\n  outline: 0;\n\n  font-family: 'Roboto', sans-serif;\n}\n\nhtml, body, #root {\n  height: 100%;\n}\n\n:root {\n  --primary: #36393f;\n  --primary-hover: #303338;\n  --secondary: #2f3136;\n  --tertiary: rgb(32,34,37);\n  --quaternary: #292b2f;\n  --quinary: #393d42;\n  --senary: #828386;\n\n  --white: #fff;\n  --gray: #8a8c90;\n  --chat-input: rgb(64,68,75);\n  --symbol: #74777a;\n\n  --notification: #f84a4b;\n  --discord: #6e86d6;\n  --discord-dark: #5a6aa1;\n  --discord-add-btn: #5ed682;\n  --mention-detail: #f9a839;\n  --mention-message: #413f3f;\n\n  --link: #5d80d6;\n\n  --rocketseat: #6633cc;\n}\n"]);return s=function(){return n},n}var d=Object(u.a)(s()),p=t(11),f=t.n(p),m=t(17),b=t(18),h=t.n(b);t(40),t(43);h.a.initializeApp({apiKey:"AIzaSyASOLQOgEXwdPJzEPtXVsyJko3TIjnbGAY",authDomain:"discount-discord.firebaseapp.com",databaseURL:"https://discount-discord.firebaseio.com",projectId:"discount-discord",storageBucket:"discount-discord.appspot.com",messagingSenderId:"640393466356",appId:"1:640393466356:web:ced4089621d11b41c3a9a1"});var v=h.a,g=t(29),x=t.n(g);function y(){var n=Object(l.a)(["\n  padding: 10px 40px;\n  margin-top: 50px;\n\n  color: var(--white);\n  font-size: 18px;\n  font-weight: 400;\n\n  background-color: var(--discord);\n  transition: background-color 200ms;\n  border-radius: 6px;\n\n  cursor: pointer;\n\n  &:hover {\n    background-color: var(--discord-dark);\n  }\n"]);return y=function(){return n},n}function w(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  > h1 {\n    color: var(--white);\n    font-size: 24px;\n  }\n\n  > span {\n    color: var(--gray);\n    font-size: 15px;\n\n    margin-top: 5px;\n  }\n"]);return w=function(){return n},n}function j(){var n=Object(l.a)(["\n  width: 600px;\n\n  padding: 20px 26px;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n\n  background-color: var(--primary);\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.4);\n  border-radius: 5px;\n"]);return j=function(){return n},n}function E(){var n=Object(l.a)(['\n  height: 100%;\n  width: 100%;\n\n  background: url("','");\n  z-index: 10;\n\n  position: absolute;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n']);return E=function(){return n},n}var O=u.b.div(E(),(function(n){return n.img})),k=u.b.div(j()),C=u.b.div(w()),S=u.b.button(y());var z=function(n){var e=n.setCurrentUser,t=n.setIsUserSignedIn;function o(){return(o=Object(m.a)(f.a.mark((function n(e){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.abrupt("return",v.firestore().collection("users").doc(e.uid).set({name:e.displayName,photoUrl:e.photoURL,defaultServers:["SRV00","SRV01"],uid:e.uid,lastLogin:v.firestore.FieldValue.serverTimestamp()},{merge:!0}));case 4:n.prev=4,n.t0=n.catch(0),console.error("Error adding user to database",n.t0);case 7:case"end":return n.stop()}}),n,null,[[0,4]])})))).apply(this,arguments)}function i(){return(i=Object(m.a)(f.a.mark((function n(t){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.abrupt("return",v.firestore().collection("users").doc(t.uid).onSnapshot((function(n){var t=n.data();e(t)})));case 4:n.prev=4,n.t0=n.catch(0),console.error("Error in retrieving user information",n.t0);case 7:case"end":return n.stop()}}),n,null,[[0,4]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){v.auth().onAuthStateChanged((function(n){n&&function(n){return o.apply(this,arguments)}(n).then(function(n){return i.apply(this,arguments)}(n)).then(t(!0))}))}),[]),a.a.createElement(O,{img:x.a},a.a.createElement(k,null,a.a.createElement(C,null,a.a.createElement("h1",null,"Welcome back!"),a.a.createElement("span",null,"It's great to see you again!")),a.a.createElement(S,{onClick:function(){var n=new v.auth.GoogleAuthProvider;v.auth().signInWithPopup(n)}},"Login with Google")))};function U(){var n=Object(l.a)(['\n  display: grid;\n  position: relative;\n\n  grid-template-columns: 72px 240px auto 240px;\n  grid-template-rows: 48px auto 52px;\n\n  grid-template-areas:\n    "SL SN CI CI"\n    "SL CL CD UL"\n    "SL UI CD UL";\n\n  height: 100vh;\n']);return U=function(){return n},n}function I(){var n=Object(l.a)(["\n  font-size: 1.5em;\n  text-align: center;\n  color: var(--discord);\n"]);return I=function(){return n},n}u.b.h1(I());var A=u.b.div(U()),P=t(8);function L(){var n=Object(l.a)(["\n  height: 2px;\n  width: 32px;\n\n  border-radius: 1px;\n  background-color: var(--secondary);\n\n  margin-bottom: 8px;\n"]);return L=function(){return n},n}function D(){var n=Object(l.a)(["\n  grid-area: SL;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  background-color: var(--tertiary);\n\n  padding: 12px 0;\n\n  max-height: 100vh;\n  overflow-y: scroll;\n\n  ::-webkit-scrollbar {\n    display: none;\n  }\n"]);return D=function(){return n},n}var V=u.b.div(D()),N=u.b.div(L()),B=t(30),M=t.n(B),R=t(49);function T(){var n=Object(l.a)(["\n  width: 25px;\n  height: 25px;\n\n  color: var(--discord-add-btn);\n  transition: color 200ms;\n"]);return T=function(){return n},n}function F(){var n=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n\n  background: ",';\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center center;\n  /* background-color: var(--primary); */\n  color: var(--white);\n\n  height: 48px;\n  width: 48px;\n  border-radius: 50%;\n\n  margin-bottom: 8px;\n\n  position: relative;\n  cursor: pointer;\n\n  transition: border-radius 200ms, background-color 200ms;\n\n  &.selected,\n  :hover,\n  :active {\n    background-color: var(--discord);\n    border-radius: 15px;\n\n    &.addServer {\n      background: var(--discord-add-btn);\n    }\n\n    > svg {\n      color: var(--white);\n    }\n  }\n\n  &::before {\n    width: 9px;\n    height: 9px;\n    border-radius: 50%;\n\n    position: absolute;\n    left: -17px;\n    transform: translateY(calc(50% - 4.5px));\n\n    background-color: var(--white);\n\n    content: "";\n    opacity: ',';\n\n    transition: opacity 300ms, height 300ms, transform 300ms;\n  }\n\n  &::after {\n    background-color: var(--notification);\n    width: auto;\n    height: 16px;\n\n    padding: 0 4px;\n\n    position: absolute;\n    bottom: -4px;\n    right: -4px;\n\n    border-radius: 12px;\n    border: 4px solid var(--quaternary);\n\n    text-align: right;\n    font-size: 13px;\n    font-weight: bold;\n    color: var(--white);\n\n    content: "','";\n    display: ',";\n  }\n\n  &.selected::before,\n  &:not(.addServer):hover::before {\n    opacity: 1;\n\n    height: 40px;\n    border-radius: 10px;\n    transform: translateY(calc(50% - 20px));\n  }\n\n  > img {\n    max-width: 30px;\n    max-height: 30px;\n  }\n"]);return F=function(){return n},n}var _=u.b.button(F(),(function(n){return n.serverPhoto?"url(".concat(n.serverPhoto,"), var(--primary)"):"var(--primary)"}),(function(n){return n.hasNotifications?1:0}),(function(n){return n.mentions&&n.mentions}),(function(n){return n.mentions&&n.mentions>0?"inline":"none"})),q=Object(u.b)(R.a)(T());var H=function(n){var e=n.selected,t=n.isHome,r=n.serverPhoto,o=n.hasNotifications,i=n.mentions,c=n.isAddServerBtn,l=n.onClick;return a.a.createElement(_,{className:"".concat(e?"selected":""," ").concat(c?"addServer":""),isHome:t,serverPhoto:r,hasNotifications:o,mentions:i,onClick:l},t&&a.a.createElement("img",{src:M.a,alt:"Discord logo",style:{maxWidth:"100%",maxHeight:"auto"}}),c&&a.a.createElement(q,null))};var Z=function(n){var e=n.currentServer,t=n.setCurrentServer,o=n.setShowAboutModal,i=n.setShowAddServerModal,l=function(){var n=Object(r.useState)([]),e=Object(c.a)(n,2),t=e[0],a=e[1];return Object(r.useEffect)((function(){var n=v.firestore().collection("servers").onSnapshot((function(n){var e=n.docs.map((function(n){return Object(P.a)({id:n.id},n.data())}));a(e)}));return function(){return n()}}),[]),t}();return a.a.createElement(V,null,a.a.createElement(H,{isHome:!0,onClick:function(){return o(!0)}}),a.a.createElement(N,null),l.map((function(n){return a.a.createElement(H,{key:n.id,selected:e.id===n.id,serverPhoto:n.photoUrl,onClick:function(){return t(n)}})})),a.a.createElement(H,{isAddServerBtn:!0,onClick:function(){return i(!0)}}))},G=t(50);function W(){var n=Object(l.a)(["\n  width: 28px;\n  height: 28px;\n\n  color: var(--white);\n  cursor: pointer;\n"]);return W=function(){return n},n}function Y(){var n=Object(l.a)(["\n  font-size: 16px;\n  font-weight: bold;\n\n  color: var(--white);\n"]);return Y=function(){return n},n}function J(){var n=Object(l.a)(["\n  grid-area: SN;\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  padding: 0 16px;\n  background-color: var(--secondary);\n\n  /* box-shadow: rgba(0, 0, 0, 0.2) 0 1px 0 0; */\n  /* z-index: 2; */\n  border-bottom: 1px solid var(--quaternary);\n"]);return J=function(){return n},n}var K=u.b.div(J()),X=u.b.h1(Y()),Q=Object(u.b)(G.a)(W());var $=function(n){var e=n.currentServer,t=n.setShowEditServerModal;return a.a.createElement(K,null,a.a.createElement(X,null,e.name),a.a.createElement(Q,{onClick:function(){return t(!0)}}))},nn=t(51);function en(){var n=Object(l.a)(["\n  font-size: 16px;\n  color: var(--gray);\n"]);return en=function(){return n},n}function tn(){var n=Object(l.a)(["\n  height: 24px;\n  width: 1px;\n\n  background-color: var(--white);\n  opacity: 0.2;\n\n  margin: 0 13px;\n"]);return tn=function(){return n},n}function rn(){var n=Object(l.a)(["\n  margin-left: 9px;\n\n  font-size: 16px;\n  font-weight: bold;\n  color: var(--white);\n"]);return rn=function(){return n},n}function an(){var n=Object(l.a)(["\n  width: 24px;\n  height: 24px;\n\n  color: var(--symbol);\n"]);return an=function(){return n},n}function on(){var n=Object(l.a)(["\n  grid-area: CI;\n\n  display: flex;\n  align-items: center;\n\n  padding: 0 16px;\n  background-color: var(--primary);\n  /* box-shadow: rgba(0, 0, 0, 0.2) 0 1px 0 0; */\n  /* z-index: 2; */\n  border-bottom: 1px solid var(--quaternary);\n"]);return on=function(){return n},n}var cn=u.b.div(on()),ln=Object(u.b)(nn.a)(an()),un=u.b.h1(rn()),sn=u.b.div(tn()),dn=u.b.span(en());var pn=function(n){var e=n.currentChannel;return a.a.createElement(cn,null,a.a.createElement(ln,null),a.a.createElement(un,null,e.name),a.a.createElement(sn,null),a.a.createElement(dn,null,e.description))};function fn(){var n=Object(l.a)(["\n  width: 21px;\n  height: 21px;\n\n  color: var(--symbol);\n  transition: color 200ms;\n  cursor: pointer;\n\n  &:hover {\n    color: var(--white);\n  }\n"]);return fn=function(){return n},n}function mn(){var n=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  margin-bottom: 6px;\n\n  > span {\n    text-transform: uppercase;\n    font-size: 12px;\n    font-weight: 500;\n    color: var(--gray);\n  }\n"]);return mn=function(){return n},n}function bn(){var n=Object(l.a)(["\n  grid-area: CL;\n\n  display: flex;\n  flex-direction: column;\n\n  padding: 24px 9.5px 0 16px;\n\n  background-color: var(--secondary);\n"]);return bn=function(){return n},n}var hn=u.b.div(bn()),vn=u.b.div(mn()),gn=Object(u.b)(R.a)(fn()),xn=t(52),yn=t(53);function wn(){var n=Object(l.a)(["\n  width: 16px;\n  height: 16px;\n\n  margin-left: 4px;\n\n  color: var(--symbol);\n  cursor: pointer;\n\n  transition: color 200ms;\n\n  &:hover {\n    color: var(--white);\n  }\n"]);return wn=function(){return n},n}function jn(){var n=Object(l.a)(["\n  width: 16px;\n  height: 16px;\n\n  color: var(--symbol);\n  cursor: pointer;\n\n  transition: color 200ms;\n\n  &:hover {\n    color: var(--white);\n  }\n"]);return jn=function(){return n},n}function En(){var n=Object(l.a)(["\n  width: 16px;\n  height: 16px;\n\n  color: var(--symbol);\n"]);return En=function(){return n},n}function On(){var n=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  cursor: pointer;\n\n  padding: 8px 3px;\n  margin-bottom: 3px;\n  border-radius: 5px;\n\n  background-color: transparent;\n\n  transition: background-color 200ms;\n\n  > div {\n    display: flex;\n    align-items: center;\n  }\n\n  > div span {\n    margin-left: 5px;\n    color: var(--senary);\n\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n\n  > .channel-options {\n    display: none;\n  }\n\n  &:hover,\n  &.active {\n    background-color: var(--quinary);\n\n    > div span {\n      color: var(--white);\n      max-width: 130px;\n    }\n\n    > .channel-options {\n      display: flex;\n      flex-shrink: 0;\n    }\n  }\n"]);return On=function(){return n},n}var kn=u.b.div(On()),Cn=Object(u.b)(nn.a)(En()),Sn=Object(u.b)(xn.a)(jn()),zn=Object(u.b)(yn.a)(wn());var Un=function(n){var e=n.selected,t=n.channelName,r=n.onClick;return a.a.createElement(kn,{onClick:r,className:e?"active":""},a.a.createElement("div",null,a.a.createElement(Cn,null),a.a.createElement("span",null,t)),a.a.createElement("div",{className:"channel-options"},a.a.createElement(Sn,null),a.a.createElement(zn,null)))};var In=function(n){var e=n.currentServer,t=n.currentChannel,o=n.setCurrentChannel,i=n.setShowAddChannelModal,l=function(n){var e=Object(r.useState)([]),t=Object(c.a)(e,2),a=t[0],o=t[1];return Object(r.useEffect)((function(){var e=v.firestore().collection("servers").doc(n.id).collection("channels").orderBy("name","asc").onSnapshot((function(n){var e=n.docs.map((function(n){return Object(P.a)({id:n.id},n.data())}));o(e)}));return function(){return e()}}),[n]),a}(e);return a.a.createElement(hn,null,a.a.createElement(vn,null,a.a.createElement("span",null,"Text Channels"),a.a.createElement(gn,{onClick:function(){return i(!0)}})),l.map((function(n){return a.a.createElement(Un,{key:n.id,selected:t.id===n.id,channelName:n.name,onClick:function(){return o(n)}})})))},An=t(19),Pn=t.n(An),Ln=t(54),Dn=t(55);function Vn(){var n=Object(l.a)(["\n  width: 20px;\n  height: 20px;\n\n  cursor: pointer;\n  color: var(--white);\n  opacity: 0.7;\n\n  transition: opacity 200ms;\n\n  &:hover {\n    opacity: 1;\n  }\n"]);return Vn=function(){return n},n}function Nn(){var n=Object(l.a)(["\n  width: 20px;\n  height: 20px;\n\n  cursor: pointer;\n  color: var(--white);\n  opacity: 0.7;\n\n  transition: opacity 200ms;\n\n  &:hover {\n    opacity: 1;\n  }\n"]);return Nn=function(){return n},n}function Bn(){var n=Object(l.a)(["\n  width: 20px;\n  height: 20px;\n\n  cursor: pointer;\n  color: var(--white);\n  opacity: 0.7;\n\n  transition: opacity 200ms;\n\n  &:hover {\n    opacity: 1;\n  }\n"]);return Bn=function(){return n},n}function Mn(){var n=Object(l.a)(["\n  display: flex;\n  align-items: center;\n\n  position: relative;\n\n  > svg:not(:first-child) {\n    margin-left: 7px;\n  }\n\n  > img {\n    width: 20px;\n    height: 20px;\n\n    position: absolute;\n    top: 0px;\n    z-index: 2;\n  }\n\n  > img.mute-mic {\n    left: 7px;\n  }\n\n  > img.mute-audio {\n    left: 33px;\n  }\n"]);return Mn=function(){return n},n}function Rn(){var n=Object(l.a)(["\n  margin-left: 8px;\n\n  display: flex;\n  flex-direction: column;\n\n  > strong {\n    color: var(--white);\n    font-size: 13px;\n  }\n\n  > span {\n    color: var(--gray);\n    font-size: 13px;\n  }\n"]);return Rn=function(){return n},n}function Tn(){var n=Object(l.a)(["\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n\n  background-image: url(",");\n  background-size: cover;\n  background-repeat: no-repeat;\n"]);return Tn=function(){return n},n}function Fn(){var n=Object(l.a)(["\n  display: flex;\n  align-items: center;\n\n  cursor: pointer;\n  transition: filter 300ms;\n\n  &:hover {\n    filter: brightness(1.2);\n  }\n"]);return Fn=function(){return n},n}function _n(){var n=Object(l.a)(["\n  grid-area: UI;\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  padding: 10px;\n  background-color: var(--quaternary);\n  box-shadow: rgba(0, 0, 0, 0.2) 0 1px 0 0;\n"]);return _n=function(){return n},n}var qn=u.b.div(_n()),Hn=u.b.div(Fn()),Zn=u.b.div(Tn(),(function(n){return n.googleProfilePic})),Gn=u.b.div(Rn()),Wn=u.b.div(Mn()),Yn=Object(u.b)(Ln.a)(Bn()),Jn=Object(u.b)(Dn.a)(Nn()),Kn=Object(u.b)(yn.a)(Vn());var Xn=function(n){var e=n.currentUser,t=n.setShowLogoutModal;return a.a.createElement(qn,null,a.a.createElement(Hn,{onClick:function(){return t(!0)}},a.a.createElement(Zn,{googleProfilePic:e.photoUrl}),a.a.createElement(Gn,null,a.a.createElement("strong",null,e.name),a.a.createElement("span",null,"#",e.uid.match(/\d+/g).join("").slice(0,4)))),a.a.createElement(Wn,null,a.a.createElement("img",{className:"mute-mic",src:Pn.a,alt:"Mute"}),a.a.createElement(Yn,null),a.a.createElement("img",{className:"mute-audio",src:Pn.a,alt:"Mute"}),a.a.createElement(Jn,null),a.a.createElement(Kn,{onClick:function(){return t(!0)}})))};function Qn(){var n=Object(l.a)(["\n  flex-shrink: 0;\n\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n\n  background-image: url(",");\n  background-size: cover;\n  background-repeat: no-repeat;\n"]);return Qn=function(){return n},n}function $n(){var n=Object(l.a)(["\n  margin-top: 5px;\n  padding: 5px;\n\n  display: flex;\n  align-items: center;\n\n  cursor: pointer;\n\n  border-radius: 4px;\n  background: transparent;\n  transition: 200ms;\n\n  opacity: ",";\n\n  &:hover {\n    background: var(--primary);\n    opacity: 1;\n\n    > strong {\n      opacity: 1;\n    }\n  }\n\n  > strong {\n    margin-left: 13px;\n    font-weight: 400;\n    color: var(--white);\n    font-size: 14px;\n\n    opacity: 0.5;\n    transition: opacity 200ms;\n\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n\n  > span {\n    margin-left: 9px;\n    background-color: var(--discord);\n    color: var(--white);\n    border-radius: 4px;\n    padding: 4px 5px;\n\n    text-transform: uppercase;\n    font-weight: bold;\n    font-size: 10px;\n\n    &.admin {\n      background-color: var(--notification);\n    }\n  }\n"]);return $n=function(){return n},n}function ne(){var n=Object(l.a)(["\n  margin-top: 20px;\n\n  text-transform: uppercase;\n  font-size: 12px;\n  font-weight: 500;\n  color: var(--gray);\n"]);return ne=function(){return n},n}function ee(){var n=Object(l.a)(["\n  grid-area: UL;\n\n  display: flex;\n  flex-direction: column;\n\n  padding: 3px 6px 0 16px;\n  background-color: var(--secondary);\n\n  max-height: calc(100vh - 48px);\n  overflow-y: scroll;\n\n  ::-webkit-scrollbar {\n    width: 4px;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background-color: var(--tertiary);\n    border-radius: 4px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background-color: var(--secondary);\n  }\n"]);return ee=function(){return n},n}var te=u.b.div(ee()),re=u.b.span(ne()),ae=u.b.div($n(),(function(n){return n.isOffline?"0.5":"1"})),oe=u.b.div(Qn(),(function(n){return n.profilePic}));function ie(n){var e=n.nickname,t=n.isBot,r=n.isAdmin,o=n.profilePic,i=n.isOffline,c=n.onClick;return a.a.createElement(ae,{isOffline:i,onClick:c},a.a.createElement(oe,{profilePic:o}),a.a.createElement("strong",null,e),t&&a.a.createElement("span",null,"Bot"),r&&a.a.createElement("span",{className:"admin"},"Adm"))}var ce=function(n){var e=n.currentUser,t=n.currentServer,o=n.setShowLogoutModal,i=function(){var n=Object(r.useState)([]),e=Object(c.a)(n,2),t=e[0],a=e[1];return Object(r.useEffect)((function(){var n=v.firestore().collection("users").orderBy("name","asc").onSnapshot((function(n){var e=n.docs.map((function(n){return Object(P.a)({id:n.id},n.data())}));a(e)}));return function(){return n()}}),[]),t}().filter((function(n){return n.defaultServers.indexOf(t.id)>-1||!!(n.servers&&n.servers.indexOf(t.id)>-1)})),l=[],u=i.filter((function(n){if(n.isBot)return!0;var e=new Date,t=e.setDate(e.getDate()-7);return!!(n.lastLogin&&n.lastLogin.toDate()>t)||(l.push(n),!1)}));return a.a.createElement(te,null,a.a.createElement(re,null,"Online Recently - ",u.length),u.map((function(n){return a.a.createElement(ie,{key:n.id,nickname:n.name,isBot:n.isBot,profilePic:n.photoUrl,isAdmin:n.isAdmin&&n.isAdmin.reduce((function(n,e){return n||e===t.id}),!1),onClick:function(t){n.id===e.uid?o(!0):t.preventDefault()}})})),a.a.createElement(re,null,"Offline - ",l.length),l.map((function(n){return a.a.createElement(ie,{key:n.id,nickname:n.name,isBot:n.isBot,profilePic:n.photoUrl,isOffline:!0})})))};function le(){var n=Object(l.a)(["\n  color: var(--link);\n  font-weight: 500;\n  cursor: pointer;\n\n  &:hover {\n    text-decoration: underline;\n  }\n"]);return le=function(){return n},n}function ue(){var n=Object(l.a)(["\n  text-align: left;\n  font-size: 15px;\n  font-weight: 400;\n  color: var(--white);\n"]);return ue=function(){return n},n}function se(){var n=Object(l.a)(["\n  display: flex;\n  align-items: baseline;\n\n  > strong {\n    color: var(--white);\n    font-size: 15px;\n  }\n\n  > span {\n    margin-left: 9px;\n    background-color: var(--discord);\n    color: var(--white);\n    border-radius: 4px;\n    padding: 4px 5px;\n\n    text-transform: uppercase;\n    font-weight: bold;\n    font-size: 10px;\n\n    &.admin {\n      background-color: var(--notification);\n    }\n  }\n\n  > time {\n    margin-left: 6px;\n    color: var(--gray);\n    font-size: 11px;\n  }\n\n  &.hide {\n    display: none;\n  }\n"]);return se=function(){return n},n}function de(){var n=Object(l.a)(["\n  min-height: ",';\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  margin-top: 13px;\n  margin-left: 17px;\n\n  position: relative;\n\n  &.same-author {\n    min-height: 10px;\n    margin-top: 0;\n    margin-left: 57px;\n\n    &::before {\n      opacity: 0;\n\n      color: var(--gray);\n      font-size: 12px;\n\n      position: absolute;\n      left: -53px;\n      top: 3px;\n\n      content: "','";\n    }\n  }\n']);return de=function(){return n},n}function pe(){var n=Object(l.a)(["\n  width: 40px;\n  height: 40px;\n  margin-top: 13px;\n\n  background-color: var(--secondary);\n  background-image: url(",");\n  background-size: cover;\n  border-radius: 50%;\n\n  &.bot {\n    background-color: var(--mention-detail);\n  }\n\n  &.hide {\n    display: none;\n  }\n"]);return pe=function(){return n},n}function fe(){var n=Object(l.a)(["\n  display: flex;\n  align-items: center;\n\n  padding: 4px 16px;\n  margin-right: 4px;\n\n  background-color: transparent;\n\n  &:hover {\n    background-color: var(--primary-hover);\n\n    & > div.same-author::before {\n      opacity: 1;\n    }\n  }\n\n  &.mention {\n    background-color: var(--mention-message);\n\n    border-left: 2px solid var(--mention-detail);\n    padding-left: 14px;\n  }\n"]);return fe=function(){return n},n}var me=u.b.div(fe()),be=u.b.div(pe(),(function(n){return n.avatarUrl})),he=u.b.div(de(),(function(n){return n.sameAuthor?"10px":"40px"}),(function(n){return n.time})),ve=u.b.div(se()),ge=u.b.div(ue());u.b.span(le());var xe=function(n){var e=n.author,t=n.timestamp,r=n.content,o=n.avatarUrl,i=n.hasMention,c=n.isBot,l=n.isAdmin,u=n.sameAuthor;return a.a.createElement(me,{className:i?"mention":""},a.a.createElement(be,{className:"".concat(c&&"bot"," ").concat(u&&"hide"),avatarUrl:o}),a.a.createElement(he,{className:"".concat(u&&"same-author"),time:t.toTimeString().match(/(\d)+:{1}(\d){2}/)[0]},a.a.createElement(ve,{className:"".concat(u&&"hide")},a.a.createElement("strong",null,e),c&&a.a.createElement("span",null,"Bot"),l&&a.a.createElement("span",{className:"admin"},"Adm"),a.a.createElement("time",null,t.toLocaleDateString())),a.a.createElement(ge,null,r)))};function ye(){var n=Object(l.a)(["\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  gap: 5px;\n\n  align-items: center;\n\n  width: 100%;\n  padding: 13px;\n  padding-bottom: 6px;\n\n  > span {\n    color: var(--gray);\n    font-size: 11px;\n    font-weight: bold;\n  }\n\n  > hr {\n    width: 100%;\n    height: 1px;\n    border: 0.5px solid var(--chat-input);\n  }\n"]);return ye=function(){return n},n}var we=u.b.div(ye());var je=function(n){var e=n.date;return a.a.createElement(we,null,a.a.createElement("hr",null),a.a.createElement("span",null,e.toLocaleDateString("en",{year:"numeric",month:"long",day:"numeric"})),a.a.createElement("hr",null))};function Ee(){var n=Object(l.a)(["\n  width: 62px;\n  height: 62px;\n\n  background-color: var(--symbol);\n  border-radius: 50%;\n\n  color: var(--white);\n  padding: 10px;\n  margin-bottom: 10px;\n"]);return Ee=function(){return n},n}function Oe(){var n=Object(l.a)(["\n  padding: 4px 16px;\n\n  > h1 {\n    color: var(--white);\n    margin-bottom: 4px;\n  }\n\n  > span {\n    color: var(--gray);\n  }\n"]);return Oe=function(){return n},n}var ke=u.b.div(Oe()),Ce=Object(u.b)(nn.a)(Ee());var Se=function(n){var e=n.channelName;return a.a.createElement(ke,null,a.a.createElement(Ce,null),a.a.createElement("h1",null,"Welcome to #",e,"!"),a.a.createElement("span",null,"This is the start of #",e," channel"))},ze=t(56);function Ue(){var n=Object(l.a)(["\n  width: 20px;\n  height: 20px;\n  color: var(--gray);\n\n  position: relative;\n  top: -50%;\n  left: 14px;\n  transition: 200ms ease-in-out;\n"]);return Ue=function(){return n},n}function Ie(){var n=Object(l.a)(["\n  width: 100%;\n  height: 44px;\n\n  padding: 0 10px 0 57px;\n  border-radius: 7px;\n\n  font-size: 15px;\n  color: var(--white);\n  background-color: var(--chat-input);\n\n  position: relative;\n\n  &::placeholder {\n    color: var(--gray);\n  }\n"]);return Ie=function(){return n},n}function Ae(){var n=Object(l.a)(["\n  width: 100%;\n\n  padding: 0 16px;\n"]);return Ae=function(){return n},n}function Pe(){var n=Object(l.a)(["\n  padding: 20px 0;\n\n  display: flex;\n  flex-direction: column;\n\n  max-height: calc(100vh - 46px - 68px);\n  overflow-y: scroll;\n\n  ::-webkit-scrollbar {\n    width: 8px;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background-color: var(--tertiary);\n    border-radius: 4px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background-color: var(--secondary);\n  }\n"]);return Pe=function(){return n},n}function Le(){var n=Object(l.a)(["\n  grid-area: CD;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  background-color: var(--primary);\n"]);return Le=function(){return n},n}var De=u.b.div(Le()),Ve=u.b.div(Pe()),Ne=u.b.div(Ae()),Be=u.b.input(Ie()),Me=Object(u.b)(ze.a)(Ue());var Re=function(n){var e,t=n.currentUser,o=n.currentServer,i=n.currentChannel,l=function(n,e){var t=Object(r.useState)([]),a=Object(c.a)(t,2),o=a[0],i=a[1];return Object(r.useEffect)((function(){var t=v.firestore().collection("servers").doc(n.id).collection("channels").doc(e.id).collection("messages").orderBy("timestamp","asc").onSnapshot((function(n){var e=n.docs.map((function(n){return Object(P.a)({id:n.id},n.data())}));i(e)}));return function(){return t()}}),[e,n]),o}(o,i),u=Object(r.useState)(""),s=Object(c.a)(u,2),d=s[0],p=s[1],f=new Date(0),m=Object(r.useRef)();return Object(r.useEffect)((function(){var n=m.current;n&&(n.scrollTop=n.scrollHeight)}),[l]),a.a.createElement(De,null,a.a.createElement(Ve,{ref:m},a.a.createElement(Se,{channelName:i.name}),l.map((function(n){var t,r,o=(t=f,r=n.timestamp?n.timestamp.toDate():new Date,!(t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate()));f=n.timestamp?n.timestamp.toDate():new Date;var i=e===n.author;return e=n.author,a.a.createElement(a.a.Fragment,{key:n.id},o&&a.a.createElement(je,{date:n.timestamp?n.timestamp.toDate():new Date}),a.a.createElement(xe,{author:n.author,timestamp:n.timestamp?n.timestamp.toDate():new Date,avatarUrl:n.profilePicUrl,content:n.text,isBot:n.isBot,isAdmin:n.isAdmin,sameAuthor:i&&!o}))}))),a.a.createElement(Ne,null,a.a.createElement(Be,{type:"text",placeholder:"Conversar em #".concat(i.name),value:d,onChange:function(n){return p(n.target.value)},onKeyPress:function(n){"Enter"===n.key&&(!function(n){var e=t.isAdmin&&t.isAdmin.reduce((function(n,e){return n||e===o.id}),!1);v.firestore().collection("servers").doc(o.id).collection("channels").doc(i.id).collection("messages").add({author:t.name,text:n,profilePicUrl:t.photoUrl,timestamp:v.firestore.FieldValue.serverTimestamp(),isBot:!1,isAdmin:e}).catch((function(n){console.error("Error writing new message to database",n)}))}(d),p(""))}}),a.a.createElement(Me,null)))},Te=t(7),Fe=t(57),_e=t(58),qe=t(59),He=t(60),Ze=t(61),Ge=t(62);function We(){var n=Object(l.a)(["\n  color: white;\n  font-size: 13px;\n  font-weight: 500;\n\n  border-radius: 6px;\n  background-color: ",";\n  transition: background-color 200ms;\n\n  padding: 12px 16px;\n\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n\n    text-decoration: ",";\n  }\n"]);return We=function(){return n},n}function Ye(){var n=Object(l.a)(["\n  height: 70px;\n  width: 100%;\n  padding: 16px;\n  margin-top: 8px;\n\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n\n  background-color: var(--secondary);\n  border-bottom-left-radius: 6px;\n  border-bottom-right-radius: 6px;\n"]);return Ye=function(){return n},n}function Je(){var n=Object(l.a)(["\n  color: white;\n  width: 24px;\n  height: 24px;\n\n  margin-right: 6px;\n"]);return Je=function(){return n},n}function Ke(){var n=Object(l.a)(["\n  color: white;\n  width: 24px;\n  height: 24px;\n\n  margin-right: 6px;\n"]);return Ke=function(){return n},n}function Xe(){var n=Object(l.a)(["\n  color: white;\n  width: 24px;\n  height: 24px;\n\n  margin-right: 6px;\n"]);return Xe=function(){return n},n}function Qe(){var n=Object(l.a)(["\n  color: white;\n  width: 24px;\n  height: 24px;\n\n  margin-right: 6px;\n"]);return Qe=function(){return n},n}function $e(){var n=Object(l.a)(["\n  color: white;\n  width: 30px;\n  height: 30px;\n\n  margin-right: 6px;\n"]);return $e=function(){return n},n}function nt(){var n=Object(l.a)(["\n  color: white;\n  width: 24px;\n  height: 24px;\n\n  margin-right: 6px;\n"]);return nt=function(){return n},n}function et(){var n=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: auto;\n\n  background-color: var(--secondary);\n  border-radius: 6px;\n\n  padding: 6px 4px;\n\n  > span {\n    color: white;\n    font-size: 13px;\n  }\n"]);return et=function(){return n},n}function tt(){var n=Object(l.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  gap: 12px;\n\n  margin: 8px auto 0;\n"]);return tt=function(){return n},n}function rt(){var n=Object(l.a)(["\n  width: 100%;\n  padding: 16px;\n  margin-bottom: 8px;\n\n  > h1 {\n    text-transform: uppercase;\n    color: var(--white);\n    font-size: 15px;\n  }\n\n  > p {\n    color: var(--white);\n    opacity: 0.8;\n\n    font-weight: 300;\n    font-size: 13px;\n\n    margin-top: 6px;\n\n    > a {\n      color: var(--discord);\n      font-weight: bold;\n    }\n  }\n\n  > h1:not(:first-child) {\n    margin-top: 16px;\n  }\n"]);return rt=function(){return n},n}function at(){var n=Object(l.a)(["\n  width: 100%;\n  padding: 16px;\n\n  align-self: center;\n  justify-self: center;\n\n  > h1 {\n    text-transform: uppercase;\n    color: var(--white);\n    font-size: 20px;\n    text-align: center;\n  }\n"]);return at=function(){return n},n}function ot(){var n=Object(l.a)(["\n  width: 600px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  background-color: var(--primary);\n  border-radius: 6px;\n\n  transition: height 300ms;\n"]);return ot=function(){return n},n}function it(){var n=Object(l.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 10;\n\n  height: 100%;\n  width: 100%;\n\n  background-color: rgba(0, 0, 0, 0.8);\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return it=function(){return n},n}var ct=Object(u.b)(Te.b.div)(it()),lt=Object(u.b)(Te.b.div)(ot()),ut=u.b.div(at()),st=u.b.div(rt()),dt=u.b.div(tt()),pt=u.b.div(et()),ft=Object(u.b)(Fe.a)(nt()),mt=Object(u.b)(_e.a)($e()),bt=Object(u.b)(qe.a)(Qe()),ht=Object(u.b)(He.a)(Xe()),vt=Object(u.b)(Ze.a)(Ke()),gt=Object(u.b)(Ge.a)(Je()),xt=u.b.div(Ye()),yt=u.b.button(We(),(function(n){return n.isCancel?"transparent":"var(--discord)"}),(function(n){return n.isCancel?"transparent":"var(--discord-dark)"}),(function(n){return n.isCancel?"underline":"none"}));var wt=function(n){var e=n.isVisible,t=n.setIsVisible;function r(){t(!1)}return a.a.createElement(Te.a,null,e&&a.a.createElement(ct,{onClick:r,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},a.a.createElement(lt,{onClick:function(n){return n.stopPropagation()},initial:{y:100},animate:{y:0},exit:{y:50}},a.a.createElement(ut,null,a.a.createElement("h1",null,"About Discount Discord")),a.a.createElement(st,null,a.a.createElement("h1",null,"What?"),a.a.createElement("p",null,"This website is a clone of the well known"," ",a.a.createElement("a",{href:"https://discord.com/",target:"_blank",rel:"noopener noreferrer"},"Discord")," ","app. It hosts a real time chat application amongst users and tries it's best to replicate the looks and feel of the original app."),a.a.createElement("h1",null,"How?"),a.a.createElement("p",null,"All of the source code is available on Github. There, you can see a detailed list of each tool used in this application as well as the inner workings of it all."),a.a.createElement("p",null,"That said, here's a summary of the core tech used:"),a.a.createElement(dt,null,a.a.createElement(pt,null,a.a.createElement(ft,null),a.a.createElement("span",null,"React")),a.a.createElement(pt,null,a.a.createElement(bt,null),a.a.createElement("span",null,"Firebase")),a.a.createElement(pt,null,a.a.createElement(mt,null),a.a.createElement("span",null,"Styled Components")),a.a.createElement(pt,null,a.a.createElement(ht,null),a.a.createElement("span",null,"Framer")),a.a.createElement(pt,null,a.a.createElement(vt,null),a.a.createElement("span",null,"Github Pages")),a.a.createElement(pt,null,a.a.createElement(gt,null),a.a.createElement("span",null,"Chrome DevTools"))),a.a.createElement("h1",null,"Who?"),a.a.createElement("p",null,"My name is Pedro Klepa, an electrical engineer by degree and a web developer by passion. I make a bunch of different fun-sized projects like this one as part of my journey in learning modern tools and techniques in web-development."),a.a.createElement("h1",null,"Extras"),a.a.createElement("p",null,"Special thanks to both"," ",a.a.createElement("a",{href:"https://www.theodinproject.com/",target:"_blank",rel:"noopener noreferrer"},"TheOdinProject")," ","for its great curriculum guided me throughout my learning and"," ",a.a.createElement("a",{href:"https://github.com/guilhermerodz",target:"_blank",rel:"noopener noreferrer"},"Guilherme Rodz")," ",", from RocketSeat, whose work in"," ",a.a.createElement("a",{href:"https://www.youtube.com/watch?v=x4FdZd2-_uU",target:"_blank",rel:"noopener noreferrer"},"this tutorial")," ","served as the foundation of the work here displayed.")),a.a.createElement(xt,null,a.a.createElement(yt,{onClick:r,isCancel:!0},"Close"),a.a.createElement(yt,{onClick:function(){window.open("https://github.com/pklepa/discord-clone","_blank")}},"See Source Code")))))};function jt(){var n=Object(l.a)(["\n  color: white;\n  font-size: 13px;\n  font-weight: 500;\n\n  border-radius: 6px;\n  background-color: ",";\n  transition: background-color 200ms;\n\n  padding: 12px 16px;\n\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n\n    text-decoration: ",";\n  }\n"]);return jt=function(){return n},n}function Et(){var n=Object(l.a)(["\n  height: 70px;\n  width: 100%;\n  padding: 16px;\n  margin-top: 8px;\n\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n\n  background-color: var(--secondary);\n  border-bottom-left-radius: 6px;\n  border-bottom-right-radius: 6px;\n"]);return Et=function(){return n},n}function Ot(){var n=Object(l.a)(["\n  width: 100%;\n  padding: 10px;\n  margin-bottom: 16px;\n\n  color: var(--white);\n  font-size: 15px;\n\n  background-color: var(--secondary);\n  border: 1px solid transparent;\n  border-radius: 6px;\n\n  &:focus {\n    border: 1px solid var(--discord);\n  }\n"]);return Ot=function(){return n},n}function kt(){var n=Object(l.a)(["\n  text-transform: uppercase;\n  color: var(--gray);\n  font-size: 12px;\n  font-weight: 400;\n\n  margin-bottom: 8px;\n"]);return kt=function(){return n},n}function Ct(){var n=Object(l.a)(["\n  width: 100%;\n  padding: 0 16px;\n"]);return Ct=function(){return n},n}function St(){var n=Object(l.a)(["\n  width: 100%;\n  padding: 16px;\n  margin-bottom: 8px;\n\n  > h1 {\n    text-transform: uppercase;\n    color: var(--white);\n    font-size: 15px;\n  }\n"]);return St=function(){return n},n}function zt(){var n=Object(l.a)(["\n  width: 400px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  background-color: var(--primary);\n  border-radius: 6px;\n"]);return zt=function(){return n},n}function Ut(){var n=Object(l.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 10;\n\n  height: 100%;\n  width: 100%;\n\n  background-color: rgba(0, 0, 0, 0.8);\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return Ut=function(){return n},n}var It=Object(u.b)(Te.b.div)(Ut()),At=Object(u.b)(Te.b.div)(zt()),Pt=u.b.div(St()),Lt=u.b.div(Ct()),Dt=u.b.div(kt()),Vt=u.b.input(Ot()),Nt=u.b.div(Et()),Bt=u.b.button(jt(),(function(n){return n.isCancel?"transparent":"var(--discord)"}),(function(n){return n.isCancel?"transparent":"var(--discord-dark)"}),(function(n){return n.isCancel?"underline":"none"}));var Mt=function(n){var e=n.currentServer,t=n.isVisible,o=n.setIsVisible,i=Object(r.useState)(""),l=Object(c.a)(i,2),u=l[0],s=l[1],d=Object(r.useState)(""),p=Object(c.a)(d,2),f=p[0],m=p[1];function b(){o(!1),s(""),m("")}return a.a.createElement(Te.a,null,t&&a.a.createElement(It,{onClick:b,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},a.a.createElement(At,{onClick:function(n){return n.stopPropagation()},initial:{y:100},animate:{y:0},exit:{y:50}},a.a.createElement(Pt,null,a.a.createElement("h1",null,"Create text channel")),a.a.createElement(Lt,null,a.a.createElement(Dt,null,"Channel name"),a.a.createElement(Vt,{type:"text",maxLength:"20",value:u,placeholder:"new-channel",onChange:function(n){var e=n.target.value.toLowerCase();/[\w-]/.test(e[e.length-1])&&s(e)}})),a.a.createElement(Lt,null,a.a.createElement(Dt,null,"Channel description"),a.a.createElement(Vt,{type:"text",maxLength:"80",value:f,placeholder:"It's ok Rocky, you can go when you feel like it.",onChange:function(n){m(n.target.value)}})),a.a.createElement(Nt,null,a.a.createElement(Bt,{onClick:b,isCancel:!0},"Cancel"),a.a.createElement(Bt,{onClick:function(){v.firestore().collection("servers").doc(e.id).collection("channels").add({name:u||"new-channel",description:f||"It's ok Rocky, you can go when you feel like it."}).catch((function(n){console.error("Error adding new channel to database",n)})),b()}},"Create channel")))))},Rt=t(63);function Tt(){var n=Object(l.a)(["\n  color: white;\n  font-size: 13px;\n  font-weight: 500;\n\n  border-radius: 6px;\n  background-color: ",";\n  transition: background-color 200ms;\n\n  padding: 12px 16px;\n\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n\n    text-decoration: ",";\n  }\n"]);return Tt=function(){return n},n}function Ft(){var n=Object(l.a)(["\n  height: 70px;\n  width: 100%;\n  padding: 16px;\n  margin-top: 8px;\n\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n\n  background-color: var(--secondary);\n  border-bottom-left-radius: 6px;\n  border-bottom-right-radius: 6px;\n"]);return Ft=function(){return n},n}function _t(){var n=Object(l.a)(["\n  width: 100%;\n  max-height: 450px;\n  margin-bottom: 16px;\n\n  border-radius: 8px;\n  background-color: var(--secondary);\n"]);return _t=function(){return n},n}function qt(){var n=Object(l.a)(["\n  height: 100%;\n  flex-shrink: 0;\n\n  color: white;\n  padding: 10px;\n\n  background-color: var(--discord);\n  border-radius: 6px;\n\n  transition: background 200ms;\n  cursor: pointer;\n\n  &:hover {\n    background-color: var(--discord-dark);\n  }\n"]);return qt=function(){return n},n}function Ht(){var n=Object(l.a)(["\n  display: grid;\n  width: 100%;\n  grid-template-columns: 1fr 40px;\n  gap: 5px;\n\n  align-items: center;\n  justify-content: center;\n\n  margin-bottom: 16px;\n\n  > input {\n    margin: 0;\n  }\n"]);return Ht=function(){return n},n}function Zt(){var n=Object(l.a)(["\n  width: 100%;\n  padding: 10px;\n  margin-bottom: 16px;\n\n  color: var(--white);\n  font-size: 15px;\n\n  background-color: var(--secondary);\n  border: 1px solid transparent;\n  border-radius: 6px;\n\n  &:focus {\n    border: 1px solid var(--discord);\n  }\n"]);return Zt=function(){return n},n}function Gt(){var n=Object(l.a)(["\n  text-transform: uppercase;\n  color: var(--gray);\n  font-size: 12px;\n  font-weight: 400;\n\n  margin-bottom: 8px;\n"]);return Gt=function(){return n},n}function Wt(){var n=Object(l.a)(["\n  width: 100%;\n  padding: 0 16px;\n"]);return Wt=function(){return n},n}function Yt(){var n=Object(l.a)(["\n  width: 100%;\n  padding: 16px;\n  margin-bottom: 8px;\n\n  > h1 {\n    text-transform: uppercase;\n    color: var(--white);\n    font-size: 15px;\n  }\n"]);return Yt=function(){return n},n}function Jt(){var n=Object(l.a)(["\n  width: 400px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  background-color: var(--primary);\n  border-radius: 6px;\n\n  transition: height 300ms;\n"]);return Jt=function(){return n},n}function Kt(){var n=Object(l.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 10;\n\n  height: 100%;\n  width: 100%;\n\n  background-color: rgba(0, 0, 0, 0.8);\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return Kt=function(){return n},n}var Xt=Object(u.b)(Te.b.div)(Kt()),Qt=Object(u.b)(Te.b.div)(Jt()),$t=u.b.div(Yt()),nr=u.b.div(Wt()),er=u.b.div(Gt()),tr=u.b.input(Zt()),rr=u.b.div(Ht()),ar=Object(u.b)(Rt.a)(qt()),or=u.b.img(_t()),ir=u.b.div(Ft()),cr=u.b.button(Tt(),(function(n){return n.isCancel?"transparent":"var(--discord)"}),(function(n){return n.isCancel?"transparent":"var(--discord-dark)"}),(function(n){return n.isCancel?"underline":"none"}));var lr=function(n){var e=n.isVisible,t=n.setIsVisible,o=n.currentUser,i=Object(r.useState)(""),l=Object(c.a)(i,2),u=l[0],s=l[1],d=Object(r.useState)(""),p=Object(c.a)(d,2),f=p[0],m=p[1],b=Object(r.useState)(""),h=Object(c.a)(b,2),g=h[0],x=h[1],y=Object(r.useState)("https://user-images.githubusercontent.com/22618438/93387614-e792b100-f83f-11ea-86c8-a08b1c850a5e.png"),w=Object(c.a)(y,2),j=w[0],E=w[1];function O(){t(!1),s(""),m(""),x(""),E("https://user-images.githubusercontent.com/22618438/93387614-e792b100-f83f-11ea-86c8-a08b1c850a5e.png")}return a.a.createElement(Te.a,null,e&&a.a.createElement(Xt,{onClick:O,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},a.a.createElement(Qt,{onClick:function(n){return n.stopPropagation()},initial:{y:100},animate:{y:0},exit:{y:50}},a.a.createElement($t,null,a.a.createElement("h1",null,"Create new server")),a.a.createElement(nr,null,a.a.createElement(er,null,"Server name"),a.a.createElement(tr,{type:"text",maxLength:"20",value:u,placeholder:"New Server",onChange:function(n){var e=n.target.value;/[\w- ]/.test(e[e.length-1])&&s(e)}})),a.a.createElement(nr,null,a.a.createElement(er,null,"Image URL"),a.a.createElement(rr,null,a.a.createElement(tr,{type:"text",value:g,placeholder:j,onChange:function(n){var e=n.target.value;/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/gi.test(e)?x(e):alert("Image must be a valid URL")}}),a.a.createElement(ar,{onClick:function(){E(g)}})),a.a.createElement(er,null,"Preview"),a.a.createElement(or,{src:j,alt:"Server photo preview"})),a.a.createElement(nr,null,a.a.createElement(er,null,"Server description"),a.a.createElement(tr,{type:"text",maxLength:"80",value:f,placeholder:"A cool place to chat.",onChange:function(n){m(n.target.value)}})),a.a.createElement(ir,null,a.a.createElement(cr,{onClick:O,isCancel:!0},"Cancel"),a.a.createElement(cr,{onClick:function(){!function(){var n=v.firestore().collection("servers").doc();n.set({name:u||"New Server",description:f||"A cool place to chat.",photoUrl:j}),n.collection("channels").doc("CH00").set({name:"welcome",description:"testing my async ???"}).then((function(){v.firestore().collection("users").doc(o.uid).update({servers:v.firestore.FieldValue.arrayUnion(n.id),isAdmin:v.firestore.FieldValue.arrayUnion(n.id)})})).catch((function(n){console.error("Error adding new server to database",n)})),O()}()}},"Create server")))))};function ur(){var n=Object(l.a)(["\n  color: white;\n  font-size: 13px;\n  font-weight: 500;\n\n  border-radius: 6px;\n  background-color: ",";\n  transition: background-color 200ms;\n\n  padding: 12px 16px;\n\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n\n    text-decoration: ",";\n  }\n"]);return ur=function(){return n},n}function sr(){var n=Object(l.a)(["\n  height: 70px;\n  width: 100%;\n  padding: 16px;\n  margin-top: 8px;\n\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n\n  background-color: var(--secondary);\n  border-bottom-left-radius: 6px;\n  border-bottom-right-radius: 6px;\n"]);return sr=function(){return n},n}function dr(){var n=Object(l.a)(["\n  width: 100%;\n  max-height: 450px;\n  margin-bottom: 16px;\n\n  border-radius: 8px;\n  background-color: var(--secondary);\n"]);return dr=function(){return n},n}function pr(){var n=Object(l.a)(["\n  height: 100%;\n  flex-shrink: 0;\n\n  color: white;\n  padding: 10px;\n\n  background-color: var(--discord);\n  border-radius: 6px;\n\n  transition: background 200ms;\n  cursor: pointer;\n\n  &:hover {\n    background-color: var(--discord-dark);\n  }\n"]);return pr=function(){return n},n}function fr(){var n=Object(l.a)(["\n  display: grid;\n  width: 100%;\n  grid-template-columns: 1fr 40px;\n  gap: 5px;\n\n  align-items: center;\n  justify-content: center;\n\n  margin-bottom: 16px;\n\n  > input {\n    margin: 0;\n  }\n"]);return fr=function(){return n},n}function mr(){var n=Object(l.a)(["\n  width: 100%;\n  padding: 10px;\n  margin-bottom: 16px;\n\n  color: var(--white);\n  font-size: 15px;\n\n  background-color: var(--secondary);\n  border: 1px solid transparent;\n  border-radius: 6px;\n\n  &:focus {\n    border: 1px solid var(--discord);\n  }\n"]);return mr=function(){return n},n}function br(){var n=Object(l.a)(["\n  text-transform: uppercase;\n  color: var(--gray);\n  font-size: 12px;\n  font-weight: 400;\n\n  margin-bottom: 8px;\n"]);return br=function(){return n},n}function hr(){var n=Object(l.a)(["\n  width: 100%;\n  padding: 0 16px;\n"]);return hr=function(){return n},n}function vr(){var n=Object(l.a)(["\n  width: 100%;\n  padding: 16px;\n  margin-bottom: 8px;\n\n  > h1 {\n    text-transform: uppercase;\n    color: var(--white);\n    font-size: 15px;\n  }\n"]);return vr=function(){return n},n}function gr(){var n=Object(l.a)(["\n  width: 400px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  background-color: var(--primary);\n  border-radius: 6px;\n\n  transition: height 300ms;\n"]);return gr=function(){return n},n}function xr(){var n=Object(l.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 10;\n\n  height: 100%;\n  width: 100%;\n\n  background-color: rgba(0, 0, 0, 0.8);\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return xr=function(){return n},n}var yr=Object(u.b)(Te.b.div)(xr()),wr=Object(u.b)(Te.b.div)(gr()),jr=u.b.div(vr()),Er=u.b.div(hr()),Or=u.b.div(br()),kr=u.b.input(mr()),Cr=u.b.div(fr()),Sr=Object(u.b)(Rt.a)(pr()),zr=u.b.img(dr()),Ur=u.b.div(sr()),Ir=u.b.button(ur(),(function(n){return n.isCancel?"transparent":"var(--discord)"}),(function(n){return n.isCancel?"transparent":"var(--discord-dark)"}),(function(n){return n.isCancel?"underline":"none"}));var Ar=function(n){var e=n.isVisible,t=n.setIsVisible,o=(n.currentUser,n.currentServer),i=Object(r.useState)(o.name),l=Object(c.a)(i,2),u=l[0],s=l[1],d=Object(r.useState)(o.description),p=Object(c.a)(d,2),f=p[0],m=p[1],b=Object(r.useState)(o.photoUrl),h=Object(c.a)(b,2),g=h[0],x=h[1],y=Object(r.useState)(o.photoUrl),w=Object(c.a)(y,2),j=w[0],E=w[1];function O(){t(!1)}return Object(r.useEffect)((function(){s(o.name),m(o.description),x(o.photoUrl),E(o.photoUrl)}),[o]),a.a.createElement(Te.a,null,e&&a.a.createElement(yr,{onClick:O,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},a.a.createElement(wr,{onClick:function(n){return n.stopPropagation()},initial:{y:100},animate:{y:0},exit:{y:50}},a.a.createElement(jr,null,a.a.createElement("h1",null,"Edit server")),a.a.createElement(Er,null,a.a.createElement(Or,null,"Server name"),a.a.createElement(kr,{type:"text",maxLength:"20",value:u,placeholder:"New Server",onChange:function(n){var e=n.target.value;/[\w- ]/.test(e[e.length-1])&&s(e)}})),a.a.createElement(Er,null,a.a.createElement(Or,null,"Image URL"),a.a.createElement(Cr,null,a.a.createElement(kr,{type:"text",value:g,placeholder:j,onChange:function(n){var e=n.target.value;/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/gi.test(e)?x(e):alert("Image must be a valid URL")}}),a.a.createElement(Sr,{onClick:function(){E(g)}})),a.a.createElement(Or,null,"Preview"),a.a.createElement(zr,{src:j,alt:"Server photo preview"})),a.a.createElement(Er,null,a.a.createElement(Or,null,"Server description"),a.a.createElement(kr,{type:"text",maxLength:"80",value:f,placeholder:"A cool place to chat.",onChange:function(n){m(n.target.value)}})),a.a.createElement(Ur,null,a.a.createElement(Ir,{onClick:O,isCancel:!0},"Cancel"),a.a.createElement(Ir,{onClick:function(){v.firestore().collection("servers").doc(o.id).update({name:u||"New Server",description:f||"No description provided",photoUrl:j}).catch((function(n){console.error("Error editing new server to database",n)})),O()}},"Update server information")))))};function Pr(){var n=Object(l.a)(["\n  color: white;\n  font-size: 13px;\n  font-weight: 500;\n\n  border-radius: 6px;\n  background-color: ",";\n  transition: background-color 200ms;\n\n  padding: 12px 16px;\n\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n\n    text-decoration: ",";\n  }\n"]);return Pr=function(){return n},n}function Lr(){var n=Object(l.a)(["\n  height: 70px;\n  width: 100%;\n  padding: 16px;\n  margin-top: 8px;\n\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n\n  background-color: var(--secondary);\n  border-bottom-left-radius: 6px;\n  border-bottom-right-radius: 6px;\n"]);return Lr=function(){return n},n}function Dr(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n\n  margin-left: 12px;\n\n  > h1 {\n    color: var(--white);\n    font-size: 17px;\n  }\n\n  > span {\n    color: var(--gray);\n    font-size: 14px;\n\n    margin-top: 6px;\n  }\n"]);return Dr=function(){return n},n}function Vr(){var n=Object(l.a)(["\n  width: 44px;\n  height: 44px;\n  border-radius: 50%;\n\n  background-image: url(",");\n  background-size: cover;\n  background-repeat: no-repeat;\n\n  flex-shrink: 0;\n"]);return Vr=function(){return n},n}function Nr(){var n=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 100%;\n  padding: 10px;\n  margin-bottom: 16px;\n\n  background-color: var(--secondary);\n  border-radius: 6px;\n"]);return Nr=function(){return n},n}function Br(){var n=Object(l.a)(["\n  text-transform: uppercase;\n  color: var(--gray);\n  font-size: 12px;\n  font-weight: 400;\n\n  margin-bottom: 8px;\n"]);return Br=function(){return n},n}function Mr(){var n=Object(l.a)(["\n  width: 100%;\n  padding: 0 16px;\n"]);return Mr=function(){return n},n}function Rr(){var n=Object(l.a)(["\n  width: 100%;\n  padding: 16px;\n  margin-bottom: 8px;\n\n  > h1 {\n    text-transform: uppercase;\n    color: var(--white);\n    font-size: 15px;\n  }\n"]);return Rr=function(){return n},n}function Tr(){var n=Object(l.a)(["\n  width: 400px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  background-color: var(--primary);\n  border-radius: 6px;\n"]);return Tr=function(){return n},n}function Fr(){var n=Object(l.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 10;\n\n  height: 100%;\n  width: 100%;\n\n  background-color: rgba(0, 0, 0, 0.8);\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return Fr=function(){return n},n}var _r=Object(u.b)(Te.b.div)(Fr()),qr=Object(u.b)(Te.b.div)(Tr()),Hr=u.b.div(Rr()),Zr=u.b.div(Mr()),Gr=u.b.div(Br()),Wr=u.b.div(Nr()),Yr=u.b.div(Vr(),(function(n){return n.googleProfilePic})),Jr=u.b.div(Dr()),Kr=u.b.div(Lr()),Xr=u.b.button(Pr(),(function(n){return n.isCancel?"transparent":"var(--discord)"}),(function(n){return n.isCancel?"transparent":"var(--discord-dark)"}),(function(n){return n.isCancel?"underline":"none"}));var Qr=function(n){var e=n.currentUser,t=n.isVisible,r=n.setIsVisible,o=n.setIsUserSignedIn;function i(){r(!1)}return a.a.createElement(Te.a,null,t&&a.a.createElement(_r,{onClick:i,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},a.a.createElement(qr,{onClick:function(n){return n.stopPropagation()},initial:{y:100},animate:{y:0},exit:{y:50}},a.a.createElement(Hr,null,a.a.createElement("h1",null,"Sign out")),a.a.createElement(Zr,null,a.a.createElement(Gr,null,"Currently signed in as"),a.a.createElement(Wr,null,a.a.createElement(Yr,{googleProfilePic:e.photoUrl}),a.a.createElement(Jr,null,a.a.createElement("h1",null,e.name),a.a.createElement("span",null,"#",e.uid.match(/\d+/g).join("").slice(0,4))))),a.a.createElement(Kr,null,a.a.createElement(Xr,{onClick:i,isCancel:!0},"Cancel"),a.a.createElement(Xr,{onClick:function(){v.auth().signOut(),o(!1),i()}},"Sign out")))))};var $r=function(n){var e=n.currentUser,t=n.setIsUserSignedIn,o=Object(r.useState)({name:"Discount Discord",id:"SRV00",description:"It's just like Discord, but cheaper.",photoUrl:"https://dygtyjqp7pi0m.cloudfront.net/i/8426/9789666_2.jpg?v=8CD1743E15E9DB0"}),i=Object(c.a)(o,2),l=i[0],u=i[1],s=Object(r.useState)({id:"CH00",name:"welcome",description:"Say hello!"}),d=Object(c.a)(s,2),p=d[0],f=d[1],m=Object(r.useState)(!1),b=Object(c.a)(m,2),h=b[0],v=b[1],g=Object(r.useState)(!0),x=Object(c.a)(g,2),y=x[0],w=x[1],j=Object(r.useState)(!1),E=Object(c.a)(j,2),O=E[0],k=E[1],C=Object(r.useState)(!1),S=Object(c.a)(C,2),z=S[0],U=S[1],I=Object(r.useState)(!1),P=Object(c.a)(I,2),L=P[0],D=P[1];return a.a.createElement(A,null,a.a.createElement(Z,{setShowAboutModal:w,setShowAddServerModal:U,currentServer:l,setCurrentServer:function(n){u(n),f({id:"CH00",name:"welcome",description:"Say hello!"})}}),a.a.createElement($,{currentServer:l,setShowEditServerModal:D}),a.a.createElement(pn,{currentChannel:p}),a.a.createElement(In,{currentServer:l,currentChannel:p,setCurrentChannel:f,setShowAddChannelModal:v}),a.a.createElement(Xn,{currentUser:e,setShowLogoutModal:k}),a.a.createElement(Re,{currentUser:e,currentServer:l,currentChannel:p}),a.a.createElement(ce,{currentServer:l,currentUser:e,setShowLogoutModal:k}),a.a.createElement(wt,{isVisible:y,setIsVisible:w}),a.a.createElement(lr,{currentUser:e,isVisible:z,setIsVisible:U}),a.a.createElement(Ar,{currentServer:l,isVisible:L,setIsVisible:D}),a.a.createElement(Mt,{currentServer:l,isVisible:h,setIsVisible:v}),a.a.createElement(Qr,{currentUser:e,isVisible:O,setIsVisible:k,setIsUserSignedIn:t}))};var na=function(){var n=Object(r.useState)(!1),e=Object(c.a)(n,2),t=e[0],o=e[1],i=Object(r.useState)(!1),l=Object(c.a)(i,2),u=l[0],s=l[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(d,null),t&&u?a.a.createElement($r,{currentUser:u,setIsUserSignedIn:o}):a.a.createElement(z,{setCurrentUser:s,setIsUserSignedIn:o}))};i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(na,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.8f722935.chunk.js.map